import express from 'express'; import cors from 'cors'; import { config } from './config/appConfig.js'; import { connectDb } from './config/db.js'; import { initDb } from './models/index.js'; import routes from './routes/index.js'; import { errorHandler } from './middlewares/errorHandler.js'; const app=express(); app.use(cors({origin:config.corsOrigin})); app.use(express.json()); app.get('/',(_req,res)=>res.json({ok:true,service:'practicas-backend'})); app.get('/api',(_req,res)=>res.json({ok:true,base:'/api'})); app.use('/api',routes); app.use(errorHandler); const start=async()=>{ await connectDb(); await initDb(); app.listen(config.port,()=>console.log(`ðŸš€ API on http://localhost:${config.port}/api`)); }; start(); export default app;
